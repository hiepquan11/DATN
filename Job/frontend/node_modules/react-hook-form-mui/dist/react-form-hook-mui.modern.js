import{TextField as e,FormControl as r,FormGroup as t,FormControlLabel as n,Checkbox as o,FormHelperText as l,MenuItem as a,useTheme as i,FormLabel as u,InputLabel as c,Select as m,Chip as d,ListItemText as s,InputAdornment as p,IconButton as f,RadioGroup as h,Radio as v,Switch as E}from"@mui/material";import{Controller as b,FormProvider as y,useForm as x,useController as g}from"react-hook-form";import C,{createElement as q,useState as k}from"react";import{DatePicker as S}from"@mui/lab";import T from"@mui/icons-material/Cancel";import w from"@mui/icons-material/Visibility";import K from"@mui/icons-material/VisibilityOff";function P(){return P=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},P.apply(this,arguments)}function O(e,r){if(null==e)return{};var t,n,o={},l=Object.keys(e);for(n=0;n<l.length;n++)r.indexOf(t=l[n])>=0||(o[t]=e[t]);return o}const I=["validation","parseError","type","required","name","control"];function V(r){let{validation:t={},parseError:n,type:o,required:l,name:a,control:i}=r,u=O(r,I);return l&&(t.required="This field is required"),"email"===o&&(t.pattern={value:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,message:"Please enter a valid email address"}),C.createElement(b,{name:a,control:i,rules:t,render:({field:{value:r,onChange:t,onBlur:i},fieldState:{invalid:c,error:m}})=>C.createElement(e,P({},u,{name:a,value:r||"",onChange:t,onBlur:i,required:l,type:o,error:c,helperText:m?"function"==typeof n?n(m):m.message:u.helperText}))})}const W=({defaultValues:e={},onSuccess:r=(()=>{}),FormProps:t,children:n})=>{const o=x({defaultValues:e}),{handleSubmit:l}=o;return C.createElement(y,P({},o),C.createElement("form",P({onSubmit:l(r),noValidate:!0},t),n))},j=e=>e.formContext||e.handleSubmit?e.handleSubmit&&e.formContext?C.createElement(y,P({},e.formContext),C.createElement("form",P({noValidate:!0},e.FormProps,{onSubmit:e.handleSubmit}),e.children)):e.formContext&&e.onSuccess?C.createElement(y,P({},e.formContext),C.createElement("form",P({onSubmit:e.formContext.handleSubmit(e.onSuccess),noValidate:!0},e.FormProps),e.children)):C.createElement("div",null,"Incomplete setup of FormContainer.."):C.createElement(W,P({},e)),B=["isDate","parseError","name","required","parseDate","validation","inputProps","control"];function D(r){let{parseError:t,name:n,required:o,parseDate:l,validation:a={},inputProps:i,control:u}=r,c=O(r,B);return o&&(a.required="This field is required"),C.createElement(b,{name:n,rules:a,control:u,render:({field:{onChange:r,value:n},fieldState:{error:a,invalid:u}})=>C.createElement(S,P({},c,{value:n||"",onChange:(e,t)=>{let n="";t?"function"==typeof l&&(n=l(t)):(n=null==e?void 0:e.toISOString().substr(0,10),"function"==typeof l&&(n=l(e))),r(n),"function"==typeof c.onChange&&c.onChange(n)},renderInput:r=>C.createElement(e,P({},r,i,{required:!!o,error:u,helperText:a?"function"==typeof t?t(a):a.message:(null==i?void 0:i.helperText)||c.helperText}))}))})}const L=["name","validation","required","parseError","label","control"];function M(e){let{name:a,validation:i={},required:u,parseError:c,label:m,control:d}=e,s=O(e,L);return u&&(i.required="This field is required"),C.createElement(b,{name:a,rules:i,control:d,render:({field:{value:e,onChange:a},fieldState:{invalid:i,error:d}})=>{const p=d?"function"==typeof c?c(d):d.message:s.helperText;return C.createElement(r,{required:u,error:i},C.createElement(t,{row:!0},C.createElement(n,{label:m||"",control:C.createElement(o,{color:"primary",sx:{color:i?"error.main":void 0},value:e,checked:!!e,onChange:()=>{a(!e)}})})),p&&C.createElement(l,{error:i},p))}})}const $=["name","required","valueKey","labelKey","options","parseError","type","objectOnChange","validation","control"];function F(r){var t;let{name:n,required:o,valueKey:l="id",labelKey:i="title",options:u=[],parseError:c,type:m,objectOnChange:d,validation:s={},control:p}=r,f=O(r,$);const h=!(null==(t=f.SelectProps)||!t.native),v=h?"option":a;return o&&(s.required="This field is required"),C.createElement(b,{name:n,rules:s,control:p,render:({field:{onBlur:r,onChange:t,value:a},fieldState:{invalid:s,error:p}})=>("number"===m&&a&&(f.InputLabelProps=f.InputLabelProps||{},f.InputLabelProps.shrink=!0),"object"==typeof a&&(a=a[l]),C.createElement(e,P({},f,{name:n,value:a||"",onBlur:r,onChange:e=>{let r=e.target.value;"number"===m&&(r=Number(r)),t(r),"function"==typeof f.onChange&&(d&&(r=u.find(e=>e[l]===r)),f.onChange(r))},select:!0,required:o,error:s,helperText:p?"function"==typeof c?c(p):p.message:f.helperText}),h&&C.createElement("option",null),u.map(e=>q(v,{key:`${n}_${e[l]}`,value:e[l]},e[i]))))})}const A=["helperText","options","label","name","parseError","required","labelKey","valueKey","returnObject","disabled","row","control","checkboxColor"];function H(e){let{helperText:a,options:c,label:m,name:d,parseError:s,required:p,labelKey:f="label",valueKey:h="id",returnObject:v,disabled:E,row:b,control:y,checkboxColor:x}=e,q=O(e,A);const k=i(),{field:{value:S=[],onChange:T},fieldState:{invalid:w,error:K}}=g({name:d,rules:p?{required:"This field is required"}:void 0,control:y});return a=K?"function"==typeof s?s(K):K.message:a,C.createElement(r,{error:w,required:p},m&&C.createElement(u,{error:w},m),C.createElement(t,{row:b},c.map(e=>{const r=e[h];r||console.error(`CheckboxButtonGroup: valueKey ${h} does not exist on option`,e);const t=-1!==S.findIndex(e=>v?e[h]===r:e===r);return C.createElement(n,{control:C.createElement(o,{sx:{color:w?k.palette.error.main:void 0},color:x||"primary",value:r,checked:t,disabled:E,onChange:()=>(e=>{const r=[...S];-1===S.findIndex(r=>v?r[h]===e:r===e)?r.push(v?c.find(r=>r[h]===e):e):r.splice(S.findIndex(r=>v?r[h]===e:r===e),1),T(r),"function"==typeof q.onChange&&q.onChange(r)})(r)}),label:e[f],key:r})})),a&&C.createElement(l,null,a))}const z=["menuItems","label","itemKey","itemValue","itemLabel","required","validation","parseError","name","menuMaxHeight","menuMaxWidth","minWidth","helperText","showChips","variant","control","showCheckbox"],G=48,Z=8;function N(e){let{menuItems:t,label:n="",itemKey:i="",itemValue:u="",itemLabel:p="",required:f=!1,validation:h={},parseError:v,name:E,menuMaxHeight:y=4.5*G+Z,menuMaxWidth:x=250,minWidth:g=120,helperText:q,showChips:k,variant:S,control:w,showCheckbox:K}=e,I=O(e,z);return f&&(h.required="This field is required"),C.createElement(b,{name:E,rules:h,control:w,render:({field:{value:e,onChange:h,onBlur:b},fieldState:{invalid:w,error:O}})=>(q=O?"function"==typeof v?v(O):O.message:q,C.createElement(r,{variant:S,style:{minWidth:g},fullWidth:I.fullWidth,error:w},n&&C.createElement(c,{error:w,htmlFor:I.id||`select-multi-select-${E}`,required:f},n),C.createElement(m,P({},I,{id:I.id||`select-multi-select-${E}`,multiple:!0,label:n||void 0,error:w,value:e||[],required:f,onChange:h,onBlur:b,MenuProps:{PaperProps:{style:{maxHeight:y,width:x}}},renderValue:"function"==typeof I.renderValue?I.renderValue:k?r=>C.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},(r||[]).map(r=>C.createElement(d,{key:r,label:r,style:{display:"flex",flexWrap:"wrap"},onDelete:()=>{h(e.filter(e=>e!==r))},deleteIcon:C.createElement(T,{onMouseDown:e=>{e.stopPropagation()}})}))):e=>null==e?void 0:e.join(", ")}),t.map(r=>{var t;const n=null!=(t=null==e?void 0:e.includes(r))&&t,l=u||i;let c=l?r[l]:r;return C.createElement(a,{key:c,value:c,sx:{fontWeight:e=>n?e.typography.fontWeightBold:e.typography.fontWeightRegular}},K&&C.createElement(o,{checked:n}),C.createElement(s,{primary:p?r[p]:r}))})),q&&C.createElement(l,null,q)))})}function R(e){const[r,t]=k(!0);return C.createElement(V,P({},e,{InputProps:{endAdornment:C.createElement(p,{position:"end"},C.createElement(f,{onMouseDown:e=>e.preventDefault(),onClick:()=>t(!r),tabIndex:-1},C.createElement(r?w:K,null)))},type:r?"password":"text"}))}const _=["helperText","options","label","name","parseError","labelKey","valueKey","required","emptyOptionLabel","returnObject","row","control"];function J(e){let{helperText:t,options:o,label:a,name:c,parseError:m,labelKey:d="label",valueKey:s="id",required:p,emptyOptionLabel:f,returnObject:E,row:b,control:y}=e,x=O(e,_);const q=i(),{field:{value:k,onChange:S},fieldState:{invalid:T,error:w}}=g({name:c,rules:p?{required:"This field is required"}:void 0,control:y});return t=w?"function"==typeof m?m(w):w.message:t,C.createElement(r,{error:T},a&&C.createElement(u,{required:p,error:T},a),C.createElement(h,{onChange:e=>{const r=e.target.value,t=E?o.find(e=>e[s]===r):r;S(t),"function"==typeof x.onChange&&x.onChange(t)},name:c,row:b,value:k||""},f&&C.createElement(n,{control:C.createElement(v,{sx:{color:T?q.palette.error.main:void 0},checked:!k}),label:f,value:""}),o.map(e=>{const r=e[s];return r||console.error(`CheckboxButtonGroup: valueKey ${s} does not exist on option`,e),C.createElement(n,{control:C.createElement(v,{sx:{color:T?q.palette.error.main:void 0},checked:!(!k||(E?k[s]!==r:k!==r))}),value:r,label:e[d],key:r})})),t&&C.createElement(l,null,t))}const Q=["name","control"];function U(e){let{name:r,control:t}=e,o=O(e,Q);return C.createElement(n,P({control:C.createElement(b,{name:r,control:t,render:({field:e})=>C.createElement(E,P({},e,{checked:e.value}))})},o))}export{H as CheckboxButtonGroup,M as CheckboxElement,D as DatePickerElement,j as FormContainer,N as MultiSelectElement,R as PasswordElement,J as RadioButtonGroup,F as SelectElement,U as SwitchElement,V as TextFieldElement};
//# sourceMappingURL=react-form-hook-mui.modern.js.map
